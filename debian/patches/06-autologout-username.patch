From: "Adam D. Barratt" <debian-bts@adam-barratt.org.uk>
Date: Wed, 31 Dec 2003 09:41:38 +0000
Subject: 06 autologout username

Print username in autologout log (bug#107927)
---
 src/main.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/src/main.c b/src/main.c
index ef9637d..42220cd 100644
--- a/src/main.c
+++ b/src/main.c
@@ -755,9 +755,9 @@ void read_command(char *cmd)
 void sig_handler(int number) {
 	if (number == SIGALRM)
 #ifdef LOG_EXTEND
-		pop_log(pop_priority, "autologout time elapsed - %.384s", ahname);
+		pop_log(pop_priority, "autologout time elapsed for user %.40s - %.384s", username, ahname);
 #else
-		pop_log(pop_priority, "autologout time elapsed");
+		pop_log(pop_priority, "autologout time elapsed for user %.40s", username);
 #endif
 	exit(1);
 }
-- 
